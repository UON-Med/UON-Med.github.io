<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
</footer>

<script src="/amboss/js/kryptojs-3.1.9-1-lib.min.js"></script>

<script>
    window.MyLib = {
    }; // global Object container; don't use var

    document.getElementById('staticrypt-form').addEventListener('submit', function(e) {
        e.preventDefault();

        var passphrase = document.getElementById('staticrypt-password').value,
            encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            alert('Bad passphrase!');
            return;
        }

        var plainHTML = CryptoJS.AES.decrypt(encryptedHTML, passphrase).toString(CryptoJS.enc.Utf8);

        MyLib.passphrase = passphrase;

        document.write(plainHTML);
        document.close();
    });
</script>
</body>
</html>